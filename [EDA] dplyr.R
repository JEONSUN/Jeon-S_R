#dplyr
#mtcars???? mpg?? 30?̻??? ?ڵ??? ????
filter(mtcars_t,mpg>=30)
#mtcars???? mpg?? 30?̻??̸? wt?? 1.8?̸??? ?ڵ??? ????
filter(mtcars_t,mpg>=30 & wt<1.8)
#???? mpg?? 30????, ???? cyl?? 6 ?Ǵ? 8, ???? am?? 1?? ?ڵ??? ????
filter(mtcars_t,mpg<=30, cyl%in% c(6,8),am==1)
#???? mpg?? ???? mpg?? ?߾Ӱ??? q3???̿? ?ִ? ?ڵ??? ????
filter(mtcars_t,mpg>=median(mpg) & mpg<=quantile(mpg,probs=0.75))
#between?????Ͽ? Ư�� ?? ???? ???̿? ?ִ??? Ȯ??
filter(mtcars_t,between(mpg,median(mpg) ,quantile(mpg,probs=0.75)))
#???? Ozone ?Ǵ? Solar.R?? ???????? ????
airquality
airs<- as_tibble(airquality)
filter(airs, is.na(Ozone)|is.na(Solar.R))
#Ư�� ?????? ???? ?ߺ??? ???̽? ��??
#1,2,3?? ???? ó����?? ???? ?ߺ??? ?ƴҰ??쿣 false?? ???´?
df1 <- data.frame(id=rep(1:3 , time=2:4),x1=1:9)
df1
duplicated(df1$id)
filter(df1,!duplicated(id))
#???? ?????? ???? ?ߺ??? ?? ��??
df2 <- data.frame(id=(1:3,each=2), x1=c(2,2,3,1,4,4)))
df2
duplicated(df2)

iris
#sample_n <- ?????ϰ??? ?ϴ? ???? ????
#sample_frac <-  ?????ϰ??? ?ϴ? ???? ??��
#???Ƿ? 3?? ?? ????
iris_t <- as_tibble(iris)

sample_n(iris_t,size=3)

my_index <- sample(1:nrow(iris),size=3)
iris[my_index,]
sample_frac(iris_t,size=0.05)
#base r ?Լ? sample()?? ???? ????
sample(1:5, size=3)
#????????�� ?Ұ??? replace ?߰?
sample(1:5, size=3 ,replace=TRUE) 

#Ư�� ?????? ???? ???? ū(??��) ?????? ????
#top_n(df,n,wt) -n?? ???? wt ???? ???? ū ?????? ,��?? ?Ͻ? wt ???? ???? ??��??
#iris?????Ϳ??? sepal.width?? ???? ū ?ΰ?????, ??�� ?ΰ?????�� ???϶?!
top_n(iris_t,n=2,wt=Sepal.Width)
top_n(iris_t,n=-2,wt=Sepal.Width)

#?????? ��?? arrange()
#arrange(df,var_1,var_2,~) var1 <- ��?ı??غ??? var2 <- var1?? ???? ??�� ???????? ��?ı???
#???? mpg?? ???? ???? ???? ??�� ?ڵ??????? ???迭
mtcars_t <- as_tibble(mtcars)
arrange(mtcars_t,mpg)

#5?? 1?Ϻ??? 5?? 10?ϱ????? ?ڷḸ�� ????��?? ???? Ozone?? ???? ???? ???Ҵ? ?????? ???迭
airs <- as_tibble(airquality)
airs_1 <- filter(airs,Month==5,Day<=10)
arrange(airs_1,Ozone)
#???????��??? airs_1�� ???? Ozone?? ???????? ???̽??? ???? ??��?? ?迭

#???????��??? airs_1�� ???? Ozone?? ???? ??�� ?????? ?迭?ϵ? ???????? ?ִ? ???̽??? ???? ??��?? ??ġ
arrange(airs_1, !is.na(Ozone))
#Ozone?? ???? ???? ??�� ?????? ???迭?ϵ? ???????? ?ִ? ???̽??? ???? ??��?? ?迭
arrange(airs_1, !is.na(Ozone),desc(Ozone))

#?????? ???? select()
#mtcars?? row names?? ???? rowname��?? ??ȯ?ϰ? ???? rowname?? mpg????
mtcars_d <- rownames_to_column(mtcars,var="rowname")
mtcars_t <- as_tibble(mtcars_d)
select(mtcars_t,rowname,mpg)
#?????? ?��??? mtcars_t?? ?ι?° ???? mpg???? ?ϰ???° ???? wt???? ???? ????
select(mtcars_t,mpg:wt)
#?????? ?��??? mtcars_t???? ???? roname?? qsec???? carb???? ��??
select(mtcars_t, -rowname,-(qsec:carb))